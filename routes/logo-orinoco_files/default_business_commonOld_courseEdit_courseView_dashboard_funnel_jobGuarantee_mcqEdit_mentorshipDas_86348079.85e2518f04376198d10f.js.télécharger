(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1253:function(e,t,n){"use strict";var o=n(3),r=n(23),i=n(24),a=n(2),c=n.n(a),l=n(340),s=n.n(l),u=n(3341),f=n(444);function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.needLogin=!1,this.isMobileFriendly=!0,this.link=null}var t,n,o;return t=e,(n=[{key:"matchCustomContentLink",value:function(e){return"A"===e.tagName&&!!e.href.match(new RegExp(this.link))}},{key:"substitute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.parentNode.replaceChild(this.createSubstitutionElement(e,t),e)}},{key:"createSubstitutionElement",value:function(e,t){throw new Error("this methode must be override.")}}])&&d(t.prototype,n),o&&d(t,o),e}(),p=n(4),h=n.n(p),y=n(6),v=n.n(y),g=n(14),b=n(9),E=n.n(b),_=n(1429),w={DOMElem:Object(_.createPropType)(function(e){return e instanceof Element})},O=n(55),C=n(411),k=n.n(C),S={icon:v.a.string.isRequired,title:v.a.string.isRequired,className:v.a.string,isExpanded:v.a.bool,onExpand:v.a.func},N=function(e){var t=e.isExpanded,n=e.className,o=e.icon,r=e.title,i=e.onExpand,a=k()("extendBar__actionIcon",{"icon-compress":t,"icon-expand":!t});return c.a.createElement("div",{className:"extendBar ".concat(n)},c.a.createElement("i",{className:"extendBar__icon ".concat(o)}),c.a.createElement("span",{className:"extendBar__title"},r),i&&c.a.createElement("i",{className:a,onClick:i}))};N.defaultProps={className:"",onExpand:null,isExpanded:!1},N.propTypes=S;var P=N;function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=M(e);if(t){var r=M(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;return I(e)}(this,n)}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B={children:v.a.element.isRequired,fullscreen:v.a.bool,icon:v.a.string,title:v.a.string,onExpand:v.a.func,onShrink:v.a.func},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(n,a["Component"]);var t=R(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).handleToggleExpand=o.handleToggleExpand.bind(I(o)),o}return x(n,null,[{key:"setBlockBodyScroll",value:function(e){o.a.document.body.style.overflow=e?"hidden":"auto"}}]),x(n,[{key:"handleToggleExpand",value:function(){this.props.fullscreen?(this.props.onShrink(),n.setBlockBodyScroll(!1)):(this.props.onExpand(),n.setBlockBodyScroll(!0))}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,o=e.children,r=e.fullscreen,i=k()("extendableContainer",{"extendableContainer--expanded":r}),a={className:k()(o.props.className,{extendableContainer__content:!0,"is-expanded":r})};return c.a.createElement("div",{className:i},c.a.createElement(P,{className:"extendableContainer__header",icon:t,title:n,onExpand:this.handleToggleExpand,isExpanded:r}),c.a.cloneElement(o,a))}}]),n}();D.propTypes=B,D.defaultProps={fullscreen:!1,icon:"icon-star",title:"",onExpand:function(){},onShrink:function(){}};var L=D;function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=U(e);if(t){var r=U(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;return z(e)}(this,n)}}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(e,t,n){var o,r,i,a=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(s,c.a.Component);var r,i,a,l=F(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={fullscreen:!1},t.handleExpand=t.handleExpand.bind(z(t)),t.handleShrink=t.handleShrink.bind(z(t)),t}return r=s,(i=[{key:"handleExpand",value:function(){this.setState({fullscreen:!0})}},{key:"handleShrink",value:function(){this.setState({fullscreen:!1})}},{key:"render",value:function(){var o=this.state.fullscreen;return c.a.createElement(L,{title:t(),icon:n,fullscreen:o,onExpand:this.handleExpand,onShrink:this.handleShrink},c.a.createElement(e,q({},this.props,{onExpand:this.handleExpand})))}}])&&V(r.prototype,i),a&&V(r,a),s}();return o=a,r="displayName",i="Extendable".concat(e.displayName||e.name),r in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,a},G=n(558),K=n(12),J={children:v.a.node,className:v.a.string},Y=function(e){var t=e.children,n=e.className;return c.a.createElement("div",{className:k()("lightPopin",n)},t)};Y.propTypes=J,Y.defaultProps={children:null,className:""};var Q=Y,X={isOnline:v.a.bool.isRequired},Z=function(e){var t=e.isOnline;return c.a.createElement("div",{className:k()("internetWarning",{"internetWarning--visible":!t})},c.a.createElement("div",{className:"internetWarning__overlay"}),c.a.createElement(Q,null,c.a.createElement("h5",{className:"internetWarning__title"},Object(K.translate)("codevolve.internet_ko.title")),c.a.createElement("i",{className:"internetWarning__icon icon-nowifi"}),c.a.createElement("div",{className:"internetWarning__text"},Object(K.translate)("codevolve.internet_ko.text"))))};Z.propTypes=X;var ee=Z,te=500,ne={href:v.a.string,className:v.a.string,disabled:v.a.bool,height:v.a.number,isOnline:v.a.bool,id:v.a.string},oe={href:null,className:"",height:te,disabled:!1,isOnline:!0,id:""};function re(e){var t=e.href,n=e.className,o=e.disabled,r=e.height,i=e.isOnline,a=e.id;return o?c.a.createElement("div",{style:{height:te}}):c.a.createElement("div",{className:n},c.a.createElement("iframe",{title:"codevolve",src:t,height:r,width:"100%",frameBorder:"0",id:a}),c.a.createElement(ee,{isOnline:i}))}re.propTypes=ne,re.defaultProps=oe;var ie=re,ae=n(3214),ce=n(423);function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var se={children:v.a.node.isRequired,type:v.a.string,onClick:v.a.func,href:v.a.string,classes:v.a.objectOf(v.a.string)};var ue=function(e){var t=e.onClick,n=e.type,o=e.children,r=e.href,i=e.classes;return c.a.createElement("div",{className:i.ctaContainer},"button"===n?function(e,t,n,o){var r=n?{href:n,Component:"a"}:{};return c.a.createElement(ae.a,le({onClick:e},r,{className:o.ctaButton}),t)}(t,o,r,i):function(e,t,n){var o=n?{href:n,Component:"a"}:{};return c.a.createElement(ae.a,le({onClick:e},o,{ocStyle:"alternative"}),t)}(t,o,r))};ue.propTypes=se,ue.defaultProps={onClick:null,type:"button",href:null,classes:{}};var fe=Object(ce.a)(function(){return{ctaContainer:{display:"block",textAlign:"center",margin:"1rem 0"},ctaButton:{"& span":{color:"white"}}}})(ue);function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var me=function(e){return c.a.createElement(fe,de({},e,{close:!0}))};function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var he=function(e){return c.a.createElement(fe,pe({},e,{goNext:!0}))},ye={children:v.a.node.isRequired,name:v.a.string,onClose:v.a.func,onGoNext:v.a.func},ve=function(){},ge={name:"",onClose:ve,onGoNext:ve},be=function(e){var t=e.name,n=e.children,o=e.onClose,r=e.onGoNext;return c.a.createElement(Q,null,c.a.createElement("div",{"data-name":t,className:"stepPanel"},c.a.Children.map(n,function(e){var t=e;if((e.type===me||e.type===he)&&!e.props.onClick){var n;switch(e.type){case me:n=o;break;case he:n=r;break;default:n=e.props.onClick}t=c.a.cloneElement(e,{onClick:n})}return t})))};be.propTypes=ye,be.defaultProps=ge;var Ee=be;function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Oe={icon:v.a.string,imgUrl:v.a.string},Ce=function(e){return e.icon?(t=e.icon,c.a.createElement("i",{className:"stepPanel__icon ".concat(t)})):e.imgUrl?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.a.createElement("img",_e({className:"stepPanel__image",src:e},t))}(e.imgUrl,we(e,["imgUrl"])):null;var t};Ce.propTypes=Oe,Ce.defaultProps={icon:null,imgUrl:null};var ke=Ce,Se={children:v.a.node.isRequired},Ne=function(e){var t=e.children;return c.a.createElement("h5",{className:"stepPanel__title"},t)};Ne.propTypes=Se;var Pe=Ne,Te={children:v.a.node.isRequired},je=function(e){var t=e.children;return c.a.createElement("div",{className:"stepPanel__text"},t)};je.propTypes=Te;var xe=je,Ae=function(){return c.a.createElement(Ee,{name:"anonymous"},c.a.createElement(Pe,null,Object(K.translate)("tutorial.message.title")),c.a.createElement(ke,{icon:"icon-lock"}),c.a.createElement(xe,null,c.a.createElement("p",null,Object(K.translate)("codevolve.tutorial.connect.message.connect_incentive"))),c.a.createElement(fe,{type:"button",onClick:function(){O.b.sendToSegment({name:"Tried to log in from Codevolve"})},href:"/login"},Object(K.translate)("tutorial.action.connect")),c.a.createElement(fe,{type:"link",onClick:function(){O.b.sendToSegment({name:"Tried to sign up from Codevolve"})},href:"/register"},Object(K.translate)("tutorial.action.sign_up")))};function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=Le(e);if(t){var r=Le(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;return De(e)}(this,n)}}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He={children:v.a.node,isOnline:v.a.bool,needConnectedUser:v.a.bool,onClosePanel:v.a.func,onEnd:v.a.func},qe=function(){},Ve={children:null,isOnline:!0,needConnectedUser:!1,onClosePanel:qe,onEnd:qe},We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(a,c.a.Component);var t,n,o,i=Be(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state=t.createInitialState(),t.handleClose=t.handleClose.bind(De(t)),t.handleNext=t.handleNext.bind(De(t)),t.handleRootMount=t.handleRootMount.bind(De(t)),t}return t=a,(n=[{key:"createInitialState",value:function(){var e={step:0,show:!0};return this.props.needConnectedUser&&!Object(r.b)()?e.stepPanels=[c.a.createElement(Ae,null)]:this.props.children?e.stepPanels=c.a.Children.toArray(this.props.children):e.show=!1,e}},{key:"handleClose",value:function(){var e=this,t=this.getCurrentStepPanel();this.setState({show:!1}),setTimeout(function(){e.props.onEnd(t.props.name)},0)}},{key:"handleNext",value:function(){var e=this.state.stepPanels,t=this.getCurrentStepPanel(),n=this.state,o=n.step,r=n.show;o<e.length-1&&(o+=1),this.props.onClosePanel(t.props.name),this.setState({step:o,show:r})}},{key:"handleRootMount",value:function(e){e&&(e.parentElement.style.position="relative")}},{key:"getCurrentStepPanel",value:function(){var e=this.state.stepPanels[this.state.step];return c.a.cloneElement(e,{onClose:this.handleClose,onGoNext:this.handleNext})}},{key:"render",value:function(){var e=this.props.isOnline;if(!this.state.show)return null;var t=this.getCurrentStepPanel();return c.a.createElement("div",{className:k()("tutorial","js-tutorial-hook",{hidden:!e}),ref:this.handleRootMount},c.a.createElement("div",{className:"tutorial__overlay"}),t)}}])&&Ie(t.prototype,n),o&&Ie(t,o),a}();We.propTypes=He,We.defaultProps=Ve;var Fe=We,ze={isOnline:v.a.bool,onEnd:v.a.func};function Ue(e){var t=e.isOnline,n=e.onEnd;return c.a.createElement(Fe,{needConnectedUser:!0,isOnline:t,onEnd:n},c.a.createElement(Ee,{name:"first"},c.a.createElement(Pe,null,Object(K.translate)("codevolve.tutorial.home.message.title")),c.a.createElement(ke,{icon:"icon-magic"}),c.a.createElement(xe,null,c.a.createElement("p",null,c.a.createElement("strong",null,Object(K.translate)("codevolve.tutorial.home.message.primary_message")),c.a.createElement("br",null),Object(K.translate)("codevolve.tutorial.home.message.secondary_message"))),c.a.createElement(me,{type:"button"},Object(K.translate)("codevolve.tutorial.home.action.primary_action")),c.a.createElement(he,{type:"link"},Object(K.translate)("codevolve.tutorial.home.action.secondary_action"))),c.a.createElement(Ee,{name:"not-now"},c.a.createElement(Pe,null,Object(K.translate)("codevolve.tutorial.not_now.message.title")),c.a.createElement(ke,{imgUrl:"/images/codevolve/phonepool.svg",width:"300",height:"180"}),c.a.createElement(xe,null,c.a.createElement("p",null,c.a.createElement("strong",{dangerouslySetInnerHTML:{__html:Object(K.translate)("codevolve.tutorial.not_now.message.primary_message")}}),c.a.createElement("br",null),c.a.createElement("span",null,Object(K.translate)("codevolve.tutorial.not_now.message.secondary_message")))),c.a.createElement(me,{type:"button"},Object(K.translate)("codevolve.tutorial.not_now.action.primary_action"))))}Ue.propTypes=ze,Ue.defaultProps={isOnline:!0,onEnd:function(){}};var $e=Ue;function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach(function(t){Je(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e){return{name:"Practiced Interactive Code Exercises",data:Ke({},e)}},Qe=n(537),Xe=n(522),Ze=n.n(Xe);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=ot(e);if(t){var r=ot(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===et(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(n,Ze.a);var t=nt(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return n}();function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ct(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),e}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=ft(e);if(t){var r=ft(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===it(t)||"function"==typeof t))return t;return ut(e)}(this,n)}}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(n,a["Component"]);var t=st(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).state={isWatchedElementAboveViewPort:!1},o.handleScroll=o.handleScroll.bind(ut(o)),o}return ct(n,null,[{key:"isElementAboveViewPort",value:function(e){if(null===e)throw new rt;var t=e.getBoundingClientRect();return t.top+t.height<=0&&null!==e.offsetParent}}]),ct(n,[{key:"componentDidMount",value:function(){o.a.window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){o.a.window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this.props.elementToWatchSelector;this.setState({isWatchedElementAboveViewPort:n.isElementAboveViewPort(o.a.document.querySelector(e))})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,o=e.isOnline,r=this.state.isWatchedElementAboveViewPort,i=k()("adviceReminder",{"adviceReminder--visible":r&&!n,hidden:!o}),a={className:k()(t.props.className,"adviceReminder__children")};return c.a.createElement("div",{className:i},c.a.createElement("div",{className:"adviceReminder__container"},c.a.cloneElement(t,a)))}}]),n}();dt(mt,"propTypes",{children:v.a.node.isRequired,elementToWatchSelector:v.a.string.isRequired,disabled:v.a.bool,isOnline:v.a.bool}),dt(mt,"defaultProps",{disabled:!1,isOnline:!0});var pt=mt,ht={children:v.a.any.isRequired,className:v.a.string,icon:v.a.string,onClick:v.a.func,onClose:v.a.func},yt=function(e){var t=e.icon,n=e.children,o=e.onClose,r=e.onClick,i=e.className,a=k()(i,"shortMessageBox",{"shortMessageBox--clickable":r});return c.a.createElement("div",{className:a,onClick:r},t&&c.a.createElement("i",{className:"shortMessageBox__icon ".concat(t)}),c.a.createElement("div",{className:"shortMessageBox__title"},n),o&&c.a.createElement("i",{className:"shortMessageBox__closeIcon icon-close",onClick:function(e){e.stopPropagation(),o()}}))};yt.defaultProps={className:"",icon:null,onClick:null,onClose:null},yt.propTypes=ht;var vt=yt;function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach(function(t){Et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t=function(e){return{name:"Closed Interactive Code Exercises Banner",data:bt({},e)}},wt=function(e){return{name:"Clicked On Interactive Code Exercises Banner",data:bt({},e)}};function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function kt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=Tt(e);if(t){var r=Tt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===Ot(t)||"function"==typeof t))return t;return Pt(e)}(this,n)}}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt={},At=".js-tutorial-hook",Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(i,a["Component"]);var t,n,o,r=Nt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),jt(Pt(t=r.call(this,e)),"state",{hasBeenClosed:!1}),jt(Pt(t),"handleClick",function(){t.scrollToTutorial()}),jt(Pt(t),"scrollToTutorial",function(){var e=document.querySelector(At).getBoundingClientRect(),n=e.top+window.pageYOffset+e.height/2-window.innerHeight/2;Qe.c.scrollTo({smooth:!0,position:n}),O.b.sendToSegment(wt(t.getCourse()))}),jt(Pt(t),"handleClose",function(){t.setState({hasBeenClosed:!0}),t.closeAllOtherAdviceReminder(),O.b.sendToSegment(_t(t.getCourse()))}),xt[e.codevolveElementId]=function(){t.setState({hasBeenClosed:!0})},t}return t=i,(n=[{key:"getCourse",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(t){jt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({iframeLink:this.props.codevolveIframeLink},G.a.get())}},{key:"closeAllOtherAdviceReminder",value:function(){for(var e in xt)e!==this.props.codevolveElementId&&xt[e]()}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.codevolveElementId,o=e.isOnline,r=this.state.hasBeenClosed;return c.a.createElement(pt,{isOnline:o,disabled:t||r,elementToWatchSelector:"#".concat(n)},c.a.createElement(vt,{icon:"icon-arrow-up",onClose:this.handleClose,onClick:this.handleClick},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(K.translate)("codevolve.advice_reminder",{class:"codevolveAdviceReminder__link"})}})))}}])&&kt(t.prototype,n),o&&kt(t,o),i}();function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t,n,o,r,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,r)}function Bt(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function a(e){Mt(i,o,r,a,c,"next",e)}function c(e){Mt(i,o,r,a,c,"throw",e)}a(void 0)})}}function Dt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=Vt(e);if(t){var r=Vt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===It(t)||"function"==typeof t))return t;return qt(e)}(this,n)}}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}jt(Rt,"propTypes",{codevolveElementId:v.a.string.isRequired,codevolveIframeLink:v.a.string.isRequired,disabled:v.a.bool.isRequired,isOnline:v.a.bool}),jt(Rt,"defaultProps",{isOnline:!0});var Ft="codevolveIframe",zt="https://www.codevolve.com/api/v1/access_token/".concat("%accessToken%"),Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(i,a["Component"]);var t,n,o,r=Ht(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Wt(qt(e=r.call.apply(r,[this].concat(n))),"iFrameId",Ft+E.a.uniqueId()),Wt(qt(e),"state",{tutorialFinished:!1,accessToken:null}),Wt(qt(e),"handleOnEnd",Bt(h.a.mark(function t(){var n,o,r,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.client.createGetRequest("/learning-activity/codevolve/token?contentId=".concat(e.getContentId())).execute();case 2:n=t.sent,o=n.body,r=o.accessToken,i=e.props.onExpand,O.b.sendToSegment(Ye(G.a.get())),e.setState({tutorialFinished:!0,accessToken:r}),i();case 9:case"end":return t.stop()}},t)}))),e}return t=i,(n=[{key:"getContentId",value:function(){var e=this.props.originalElement,t=new RegExp(/.*content_id=(.*)/);return e&&e.href&&e.href.match(t)?e.href.match(t)[1]:null}},{key:"getIframeUrl",value:function(){var e=this.state.accessToken;return e?zt.replace("%accessToken%",e):null}},{key:"render",value:function(){var e=this.props,t=e.originalElement,n=e.className,o=e.isOnline,r=this.state.tutorialFinished;return c.a.createElement("div",{className:n},c.a.createElement(ie,{className:"js-codevolveIframe codevolve__iframe",id:this.iFrameId,href:this.getIframeUrl(),isOnline:o}),c.a.createElement($e,{isOnline:o,onEnd:this.handleOnEnd}),c.a.createElement(Rt,{isOnline:o,disabled:r,codevolveElementId:this.iFrameId,codevolveIframeLink:t.getAttribute("href")}))}}])&&Dt(t.prototype,n),o&&Dt(t,o),i}();Wt(Ut,"propTypes",{originalElement:w.DOMElem.isRequired,className:v.a.string,isOnline:v.a.bool,onExpand:v.a.func}),Wt(Ut,"defaultProps",{className:"",isOnline:!0,onExpand:function(){}});var $t=$(Ut,function(){return Object(K.translate)("codevolve.title")},"icon-code2"),Gt=n(421),Kt=n(1424),Jt=function(e){return e[Kt.a].isOnline},Yt=Object(Gt.b)(function(e){return{isOnline:Jt(e)}})($t);function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=tn(e);if(t){var r=tn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===Qt(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn="v1",on=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(a,m);var t,n,r,i=en(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).needLogin=!0,t.isMobileFriendly=!1,t.link="".concat(e).concat(nn,"/publishable_key"),t}return t=a,(n=[{key:"createSubstitutionElement",value:function(e){var t=o.a.document.createElement("div");return s.a.render(Object(f.e)(c.a.createElement(u.a,null,c.a.createElement(Yt,{originalElement:e}))),t),t}}])&&Xt(t.prototype,n),r&&Xt(t,r),a}();function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=sn(e);if(t){var r=sn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===rn(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(i,m);var t,n,o,r=ln(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this)).needLogin=!1,e.isMobileFriendly=!0,e.link=/^(?!(https:\/\/openclassrooms|https:\/\/blog\.openclassrooms|https:\/\/info\.openclassrooms|https:\/\/exercices\.openclassrooms|https:\/\/stage|\/|\/en|\/fr|#))([a-zA-Z0-9:/?#._-]+)/,e}return t=i,(n=[{key:"createSubstitutionElement",value:function(e){var t=e;return t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer nofollow"),t}}])&&an(t.prototype,n),o&&an(t,o),i}();function fn(e){return function(e){if(Array.isArray(e))return dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.d(t,"c",function(){return pn}),n.d(t,"a",function(){return hn});var mn=[new on("https://www.codevolve.com/api/"),new on("https://api.codevolve.com/api/"),new on("https://api.next.tech/api/"),new un];function pn(e){return mn.some(function(t){return t.matchCustomContentLink(e)})}function hn(){var e,t,n,a;e=".js-course-container",t=i.default.getCurrent(),n=t===i.default.SCREEN_WIDTH_SMALL||t===i.default.SCREEN_WIDTH_MEDIUM,(a=o.a.document.querySelector(e))&&mn.forEach(function(e){if(e.isMobileFriendly||!n){var t=!Object(r.b)()&&e.needLogin,o=fn(a.querySelectorAll("a[href]"));(o=o.filter(function(t){return!!t.href.match(e.link)}))&&fn(o).forEach(function(n){e.substitute(n,t)})}})}t.b=hn},146:function(e,t,n){"use strict";var o=n(27),r={getVersionned:function(e){return"".concat(e,"?").concat(o.a.getPreference("assetVersion"))}};t.a=r},1497:function(e,t,n){"use strict";var o=n(1),r=n.n(o);function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registeredCallbacks=[],this.registerConnectionStateChange()}var t,n,o;return t=e,(n=[{key:"onConnectionStateChange",value:function(e){this.registeredCallbacks.push(e)}},{key:"registerConnectionStateChange",value:function(){var t=this;r()(window).on("online",function(){t.triggerRegisteredCallbacks(e.CONNECTION_SERVICE_STATE.ONLINE)}),r()(window).on("offline",function(){t.triggerRegisteredCallbacks(e.CONNECTION_SERVICE_STATE.OFFLINE)})}},{key:"triggerRegisteredCallbacks",value:function(e){this.registeredCallbacks.forEach(function(t){t(e)})}}])&&i(t.prototype,n),o&&i(t,o),e}();a.CONNECTION_SERVICE_STATE={ONLINE:0,OFFLINE:1},t.a=a},2257:function(e,t,n){"use strict";e.exports={NOT_A_TINYMCE_ELEMENT_EXCEPTION:"Not a Tinymce element"}},267:function(e,t,n){"use strict";var o=n(1),r=n.n(o),i=n(2257),a=n.n(i),c=n(248),l=n.n(c),s=n(12),u=n(146),f=n(701),d={};d.clean=function(e){var t=r()("<div>").html(e);return function(e){f.a.unsmilize(e)}(t),t.html()};var m=d,p=function(e){var t,n=tinymce.util.VK,o=e.$;function r(t){var n=[];t?(Array.isArray(t)||(t=[t]),n=t.filter(function(t){return!e.dom.is(t,"code")&&!e.dom.is(t,"samp")})):n=e.dom.select("body > *:not(pre):not(code):not(.smilies):not(.ace)"),n.forEach(function(e){f.a.smilize(e)}),o(".js-smiley").attr("data-mce-object","true")}e.on("keyup",function(o){var i,a,c,l,s=o.keyCode;-1!==[39,37,38,40,13,186,32,53,189,80,79,68,188,219,189,190].indexOf(s)&&(l=(a=e.selection.getNode()).innerHTML.match(/..$/))&&(c=l[0],s===n.ENTER&&(a=a.previousSibling),219===s&&"^^"!==c||(clearTimeout(t),t=setTimeout(function(){i=e.selection.getBookmark(),r(a),e.selection.moveToBookmark(i)},50)))}),e.on("init",function(){r()}),e.on("getcontent",function(e){e.sanitized&&(e.content=m.clean(e.content))}),e.on("setcontent",function(){r()}),e.on("ObjectSelected",function(e){f.a.isSmiley(e.target)&&e.preventDefault()}),e.addButton("claireEmoticons",{type:"panelbutton",popoverAlign:"bc-tl",icon:"emoticons",panel:{autohide:!0,html:function(){var e,t=f.a.getList();return e='<table role="presentation" class="mce-grid mce-plugin-claireEmoticons">',e+="<tr>",t.forEach(function(t,n){e+="<td>",e+='  <a href="#" data-mce-value="'+t.value+'" data-mce-url="'+t.imagePath+'" tabindex="-1" >',e+='      <img title="'+t.value+'" src="'+t.imagePath+'"  />',e+="  </a>",e+="</td>",n>0&&(n+1)%5==0&&(e+="</tr><tr>")}),e+="</tr>",e+="</table>"},onclick:function(t){var n=e.dom.getParent(t.target,"a");n&&(e.insertContent(n.getAttribute("data-mce-value")),this.hide())}},tooltip:"Smileys"})},h=n(583),y=n(3),v=n(351),g=function(e){function t(e,t){return t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}function n(e,t){var n=null;return function e(o){o.forEach(function(o){o.name()===t&&(n=o);var r=o.items&&o.items();r&&e(r.toArray())})}(e.items().toArray()),n}function o(t){var n=e.dom.getParent(t,"figure");e.dom.remove(t),e.dom.remove(n)}function r(t){var n;t.alt||(t.alt=e.settings.claireImage_empty_alt||""),n=t.caption&&e.settings.claireImage_use_figure?'<figure><img alt="'+t.alt+'" src="'+t.src+'" />    <figcaption>'+t.caption+"</figcaption></figure>":'<img alt="'+t.alt+'" src="'+t.src+'" />',e.execCommand("mceInsertContent",!1,n)}e.addButton("claireImage",{icon:"image",tooltip:"Insert/edit image",onclick:function(){var i,a,c=e.dom,l=e.selection.getNode(),u=c.getParent(l,"figure"),f=c.select("figcaption",u);f=0===f.length?null:f[0],"IMG"!==l.nodeName||l.getAttribute("data-mce-object")?l=null:(a={src:c.getAttrib(l,"src"),alt:c.getAttrib(l,"alt")},u&&f&&(a.caption=f.innerHTML));var d=[{name:"upload",type:"container",label:"Upload an image",html:'<div class="mce-btn mce-primary upload"><span class="js-upload">'+tinymce.i18n.translate("Choose")+'</span></div><div class="mce-throbber upload"></div>',onPostRender:function(){var t=this.getEl(),o=e.dom.select(".mce-btn",t)[0],r=e.dom.select(".js-upload",t)[0];v.a.create({fileSizeWarning:204800,onFileSizeWarning:function(){return confirm(Object(s.translate)("course_editor.wysiwyg.message.file_size_too_big_warning",{fileSize:Object(h.a)(204800)}))},startUpload:function(){var t=n(i,"upload").getEl();e.dom.toggleClass(t,"loading",!0),e.dom.toggleClass(o,"mce-disabled",!0)},uploaded:function(t,r){var a=n(i,"src").getEl(),c=e.dom.select("input",a)[0];e.dom.toggleClass(n(i,"upload").getEl(),"loading",!1),e.dom.toggleClass(o,"mce-disabled",!1),r.url?c.value=r.url:alert(tinymce.i18n.translate("Error during image upload"))}},r)}},{name:"src",type:"filepicker",id:"test",filetype:"image",label:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.source"),autofocus:!0},{name:"caption",type:"textbox",label:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.image_caption"),placeholder:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.image_caption_placeholder")},{name:"alt",type:"textbox",label:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.image_description"),placeholder:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.image_description_placeholder"),multiline:!0,minHeight:90}];i=e.windowManager.open({title:"Insert/edit image",minWidth:600,data:a,body:d,onSubmit:function(){var n=i.toJSON(),a=n.caption;"https:"===n.src.split("/")[0]?(n={src:n.src,alt:t(n.alt||n.caption).trim(),caption:t(n.caption,"<a><strong><em>").trim()},e.undoManager.transact(function(){l?n.src?(a?u?(f||(f=c.create("figcaption"),u.appendChild(f)),f.innerHTML=n.caption):(r(n),o(l),l=c.select("img",e.selection.getNode())[0]||l):c.remove(f),l.src=n.src,l.alt=n.alt,l.setAttribute("data-mce-src",n.src)):o(l):r(n)}),setTimeout(function(){e.execCommand("mceAutoResize",{})},1e3)):y.a.window.alert(Object(s.translate)("course_editor.wysiwyg.insert_image_window.invalid_url_protocol"))}})},stateSelector:"img:not([data-mce-object]), figcaption, figure"}),e.on("keydown",function(t){var n=e.selection.getNode(),r=e.dom.getParent(n,"figcaption");13===t.keyCode&&r&&t.preventDefault(),8===t.keyCode&&-1!==["IMG","FIGURE"].indexOf(n.tagName)&&(o(n),t.preventDefault())}),e.on("keyup",function(t){var n=e.selection.getNode(),o=e.dom.getParent(n,"figcaption"),r=o&&e.dom.select("br",o).length>0;8===t.keyCode&&r&&e.dom.remove(o)}),e.on("ObjectSelected",function(t){e.settings.image_noresizing&&t.preventDefault()})},b=n(869),E=n.n(b);var _=function(e){var t=function(e){var t=e.tagName.toLowerCase();return-1===["aside","div","li"].indexOf(t)};function n(e,t,n){for(;e.hasChildNodes();)t.appendChild(e.firstChild);n&&e.parentNode&&e.parentNode.removeChild(e)}var o=function(o){var r=e.selection.getSelectedBlocks().filter(t),i="question"===o?"Div":"Aside",a=[],c=null;r.forEach(function(t){var n=function(t){var n=e.dom.getParent(t,"[data-claire-semantic]");return n&&n!==t?n.getAttribute("data-claire-semantic"):null}(t);null===c&&(c=n!==o),n&&function(t){var n=t.parentNode,o="div"===n.tagName.toLowerCase()?"claire-semanticBlockDiv":"claire-semanticBlockAside";e.formatter.remove(o,null,n)}(t),c&&(e.formatter.apply("claire-semanticBlock".concat(i),{type:o},t),a.push(t))});var l,s=(l=a,E()(l.map(function(t){return e.dom.getParent(t,"[data-claire-semantic]")}))),u=s.length;if(c&&u>1)for(var f=s[0],d=1;d<u;d+=1)n(s[d],f,!0);var m=e.dom.createRng();m.setStart(r[0],0),m.setEnd(r[r.length-1],1),e.selection.setRng(m),e.focus(),e.nodeChanged(),e.undoManager.add()};e.on("init",function(){e.formatter.register("claire-kbd",{inline:"kbd",remove:"all"}),e.formatter.register("claire-semanticBlockAside",{block:"aside",remove:"all",attributes:{"data-claire-semantic":"%type"},wrapper:!0,merge_siblings:!1}),e.formatter.register("claire-semanticBlockDiv",{block:"div",remove:"all",attributes:{"data-claire-semantic":"%type"},wrapper:!0,merge_siblings:!1})}),e.addButton("claireErrorBlock",{icon:"error",tooltip:"Error",onclick:function(){o("error")},stateSelector:'[data-claire-semantic="error"]'}),e.addButton("claireInfoBlock",{icon:"information",tooltip:"Information",onclick:function(){o("information")},stateSelector:'[data-claire-semantic="information"]'}),e.addButton("claireQuestionBlock",{icon:"question",tooltip:"Question",onclick:function(){o("question")},stateSelector:'[data-claire-semantic="question"]'}),e.addButton("claireWarningBlock",{icon:"warning2",tooltip:"Warning",onclick:function(){o("warning")},stateSelector:'[data-claire-semantic="warning"]'}),e.addButton("claireKeyBlock",{icon:"key",tooltip:"Key",stateSelector:"kbd",onclick:function(){e.formatter.toggle("claire-kbd"),e.focus();var t=e.dom.getParent(e.selection.getNode(),"span");if(t){var n=t.nextSibling;null!==n&&n.nodeType===Node.TEXT_NODE&&(n.nodeValue=" ".concat(n.nodeValue))}e.undoManager.add()}}),e.addShortcut("ctrl+alt+i","",function(){o("information")}),e.addShortcut("ctrl+alt+e","",function(){o("error")}),e.addShortcut("ctrl+alt+q","",function(){o("question")}),e.addShortcut("ctrl+alt+w","",function(){o("warning")})},w=n(87),O=n(258),C={};C.clean=function(e){var t=r()("<div>").html(e);return function(e){e.find("iframe.video").each(function(e,t){w.a.iframeToVideo(t).insertAfter(t),r()(t).remove()})}(t),function(e){e.find("video").each(function(e,t){var n=r()(t),o=n.parent();o.is("p")&&(n.insertAfter(o),""===o.html().trim()&&o.remove())})}(t),t.html()};var k=C,S=function(e){function t(){e.dom.select("video").forEach(function(e){w.a.videoToIframe(e)})}e.addButton("claireVideo",{icon:"media",onclick:function(){var n,o;o=[{name:"url",type:"textbox",size:60,label:s.default._("course_editor.wysiwyg.insert_video_window.text_label")}],n=e.windowManager.open({title:s.default._("course_editor.wysiwyg.insert_video_window.title"),body:o,onSubmit:function(){var o=n.toJSON().url;O.a.isValidVideoUrl(o)?e.undoManager.transact(function(){var n=e.selection.getNode(),r=e.dom.create("span",{id:"_temp_"}),i=e.dom.create("video",{src:o});e.selection.setNode(r),e.dom.split(n,e.dom.select("#_temp_")[0]),e.dom.replace(i,"_temp_"),t(),e.nodeChanged()}):alert("Not a valid video URL")}})},tooltip:"Insert Video"}),e.on("init",function(){setTimeout(function(){t()},500)}),e.on("getcontent",function(e){e.sanitized&&(e.content=k.clean(e.content))}),e.on("setcontent",function(e){setTimeout(function(){t()},500)})},N=n(9),P=n.n(N),T=n(765),j=n.n(T),x=n(721),A=n(584),R=n.n(A),I=n(724);function M(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var D={contentIndex:0,rangeOffset:0,tree:[],setSelectedNode:function(e){var t=e.selection.getRng(),n=e.selection.getStart();this.contentIndex=M(n.childNodes).indexOf(t.startContainer),this.rangeOffset=t.startOffset,!!e.dom.getParent(n,"[data-mce-bogus]")&&this.rangeOffset--,this.addNodeInTree(n)},addNodeInTree:function(e){var t=e.parentNode,n=M(t.childNodes).indexOf(e);this.tree.unshift(n),"BODY"!==t.tagName&&this.addNodeInTree(t)},moveToSelectedNode:function(e){var t=null,n=this.tree.reduce(function(e,n){return e?(t=e,e.childNodes[n]):null},e.getBody())||t;function o(){e.selection.setCursorLocation(t)}if(n)if(n.nodeType===Node.TEXT_NODE&&(n=t),this.contentIndex>-1)try{e.selection.setCursorLocation(n.childNodes[this.contentIndex],this.rangeOffset)}catch(e){o()}else o()},reset:function(){this.rangeOffset=0,this.contentIndex=0,this.tree=[]}},L={positionCaretOnElement:function(e){tinymce.activeEditor.selection.setCursorLocation(e)},moveCursor:function(e){this.positionCaretOnElement(e)},getItemByName:function(e,t){var n=this;return e&&e.items?e.items().toArray().reduce(function(e,o){return e||(o.name()===t?o:n.getItemByName(o,t))},null):null},keyPressed:function(e){return{is:function(t){return Array.isArray(t)||(t=[t]),t.indexOf(e)>-1},isNot:function(t){return Array.isArray(t)||(t=[t]),-1===t.indexOf(e)}}},setAnchorCaret:function(){var e=tinymce.activeEditor;D.setSelectedNode(e)},goToAnchorCaret:function(){var e=tinymce.activeEditor,t=window.document.activeElement.tagName;"BODY"===t||"IFRAME"===t?(e.focus(),D.moveToSelectedNode(e),D.reset()):D.reset()}},H=x.a.create(R.a.HIGHLITER_ACE),q={};q.clean=function(e){var t=r()("<div>").html(e);return function(e){var t=new I.a(H),n=e.find("code").filter(function(e,t){return r()(t).parent().is("pre")});n.length>0&&t.unColorizeElement(n)}(t),t.html()};var V=q,W=n(268),F=n(348),z=n(255);function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var $,G,K,J,Y,Q,X=x.a.create(R.a.HIGHLITER_ACE),Z=new I.a(X),ee=1e3,te="";function ne(e){clearTimeout(Q),Q=setTimeout(function(){te=""}.bind(this),ee),e!==z.a.BACKSPACE_DELETE||P.a.isEmpty(te)?e>=z.a.A&&e<=z.a.Z&&(te+=String.fromCharCode(e)):te=te.substring(0,te.length-1)}function oe(e,t){var n=null;e.each(function(e){n||e.settings.text.substring(0,t.length).toUpperCase()!==t||(n=e)}),n&&n.focus()}function re(){return Y!==$||J.getContent()!==K}var ie=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),G=n,this.editor=t}var t,n,o;return t=e,(n=[{key:"show",value:function(e){var t,n,o,r=this,i=this.editor.selection.isCollapsed(),a=this.editor.selection.getNode(),c=this.editor.dom.getParent(a,"code");K="",$="",Y=null,tinymce.isArray(c)&&(c=c.length>0?c[0]:null),W.b.unselectCodeNode(this.editor),c?(this.editor.selection.collapse(!1),K=Z.getCodeFromElement(c).source,$=X.getValideLanguage(this.editor.dom.getAttrib(c,"data-claire-semantic")),W.b.selectCodeNode(this.editor,c)):(i||(K=this.editor.selection.getContent({format:"text"})),$=Y||"text"),o=G.map(function(e){return{text:e,value:e,selected:$===e}}),(n=[{name:"list",label:"Langages",type:"listBox",value:$,values:o,onselect:function(e){var t=e.control.value();J.setLanguage(X.getValideSyntaxer(t))},onshow:function(){this.focus()},onkeydown:function(e){e.keyCode===z.a.BACKSPACE_DELETE&&e.preventDefault(),e.keyCode!==z.a.UP_ARROW&&e.keyCode!==z.a.DOWN_ARROW&&(e.keyCode!==z.a.ENTER?this.menu&&(ne(e.keyCode),oe(this.menu.items(),te)):function(e,t){if(P.a.has(t,"target")){var n=t.target.innerText.replace(/ /g,"");oe(e.menu.items(),n)}}(this,e))}}]).push({type:"container",minWidth:570,minHeight:450,items:{type:"textbox",multiline:!0,onPostRender:function(){J=F.a.create({inline:!1,initialContent:K,language:X.getValideSyntaxer($),onEsc:function(){t.close()},onSubmit:function(){t.submit()}},this.getEl())}}}),t=this.editor.windowManager.open({title:s.default._("course_editor.wysiwyg.word.code_block_title"),body:n,onClose:function(){J.destroy(),!re()&&c&&L.moveCursor(r.editor.dom.getParent(c,"pre"))},onSubmit:function(t){var n=J.getContent();$=t.data.list||G[0],re()&&r.editor.fire("dirty"),Y=$,e($,n,c)}})}}])&&U(t.prototype,n),o&&U(t,o),e}();function ae(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var le=function(e){var t=this,n=x.a.create(R.a.HIGHLITER_ACE),o=new I.a(n),r=e.settings,i=n.availablelanguages,a=e.$,c=new ie(e,i),l=!1,u=P.a.memoize(function(e){return V.clean(e)});function f(t){return!r.claireCode_simple_output&&t&&e.formatter.match("claire-blockCodePre")&&!e.dom.is(t,"[data-claire-semantic=console]")}function d(t,n){var r=e.dom.getParent(t,"pre"),i=e.dom.getAttrib(t,"data-claire-semantic");i&&"console"!==i&&r&&(e.selection.collapse(),o.colorizeElement(t,n))}function m(){var t=ae(e.selection.getSelectedBlocks()),n=null,o=null;t.forEach(function(t){if(null===n&&(n=!e.formatter.match("claire-blockConsole")),!n)return e.formatter.remove("claire-blockCodePre"),void e.formatter.remove("claire-blockConsole");var r;ae((r=t).querySelectorAll("[data-mce-bogus]")).forEach(function(e){r.removeChild(e)}),t.textContent.trim().length||(t.innerHTML=s.default._("course_editor.wysiwyg.message.consoleblock_initial_text"));var i=e.dom.create("pre");i.innerHTML=t.innerHTML,t.parentNode.insertBefore(i,t),t.parentNode.removeChild(t),e.formatter.apply("claire-blockConsole",{},i),o=e.dom.select("samp",i)[0]}),e.focus(),o&&e.selection.select(o),e.nodeChanged(),e.undoManager.add()}function p(t,n,i){var a;return!!n&&(r.claireCode_simple_output?void function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,r=j.a.encode(n);if(o)e.dom.setAttrib(o,"data-claire-semantic",t),o.innerHTML=r;else{var i='<pre><code data-claire-semantic="'.concat(t,'">').concat(r,"</code></pre><br />");e.execCommand("mceInsertContent",!1,i)}}(t,n,i):(i?(a=n||" ",e.dom.setAttrib(i,"data-claire-semantic",t),o.updateColorizedElement(i,{source:a,language:t})):(e.execCommand("mceInsertContent",!1,'<p id="__tmp__"></p>'),(i=e.dom.get("__tmp__")).innerHTML=j.a.encode(n),e.selection.select(i),e.formatter.apply("claire-inlineCode",{type:t}),e.selection.select(i),e.formatter.apply("claire-blockCodePre"),i=e.dom.select("code",e.dom.get("__tmp__"))[0],e.dom.get("__tmp__").removeAttribute("id"),e.dom.get("___tmp___")&&(e.selection.select(e.dom.get("___tmp___")),e.selection.setContent("")),e.dom.setAttrib(i,"data-claire-semantic",t),d(i)),i))}function h(){var t=e.selection.getNode();W.b.isCodeNode(t)||(t=void 0);var n=t?t.getAttribute("claire-inlineCode"):null;n=n||"text",e.formatter.toggle("claire-inlineCode",{type:n},t),e.focus();var o=e.selection.getSel().anchorNode.parentNode;if(W.b.isCodeNode(o)){o.parentNode.normalize();var r=o.previousSibling,i=o.nextSibling;r&&(r.nodeValue=W.b.trimRightNode(r)+" "+W.a),i&&(i.nodeValue=W.a+" "+W.b.trimLeftNode(i))}e.undoManager.add()}function y(){l?tinymce.activeEditor.windowManager.alert(s.default._("course_editor.wysiwyg.message.cant_edit_code_block_while_saving")):c.show(v)}function v(t,n,o){if(o&&""===n.trim())return a(e.dom.getParent(o,"pre")).remove(),void e.execCommand("mceCleanup");var r=p(t,n,o);r&&L.moveCursor(e.dom.getParent(r,"pre"))}e.on("init",function(){e.formatter.register("claire-blockCode",{block:"code",attributes:{"data-claire-semantic":"%type"},remove:"all"}),e.formatter.register("claire-inlineCode",{inline:"code",remove:"all",attributes:{"data-claire-semantic":"%type"}}),e.formatter.register("claire-blockConsole",{block:"samp",remove:"all",wrapper:!0,merge_siblings:!1}),e.formatter.register("claire-blockCodePre",{block:"pre",remove:"all"})}),e.on("onBeforeSave",function(){l=!0}),e.on("onAfterSave",function(){l=!1}),e.on("blur",function(){W.b.unselectCodeNode(e)}),e.on("click",function(t){f(e.dom.getParent(t.target,"code"))&&e.addContextToolbar("pre code","codeEditTooltip codedelete")}),e.on("getcontent",function(e){e.sanitized&&(e.content=u(e.content))}),e.on("setcontent",function(){var t=e.dom.select("code:not([data-claire-semantic=console])");tinymce.each(t,function(t){e.dom.getParent(t,"pre")&&d(t)})}),e.on("keydown",function(t){var n=t.keyCode,o=e.selection.getNode(),r=e.dom.getParent(e.selection.getNode(),"code");if(13===n&&W.b.isInlinedCodeNode(e,o))return!1;f(r)&&t.preventDefault()}),e.addButton("claireCodeBlock",{icon:"code",onclick:y,stateSelector:"pre>code",tooltip:"Code"}),e.addButton("claireCodeInlineBlock",{icon:"codesample",onclick:h,stateSelector:"code:not(pre>code)",tooltip:"Inline Code"}),e.addButton("claireConsoleBlock",{icon:"codeConsoleblock",tooltip:"Console",stateSelector:"samp",onclick:m}),e.addCommand("claireInsertConsoleBlock",m),e.addCommand("claireInsertCodeBlock",function(e,n){p.apply(t,n)}),e.addButton("codedelete",{icon:"tabledelete",title:s.default._("global.word.delete"),onclick:function(){var t=e.selection.getNode(),n=e.dom.getParent(t,"pre");a(n).remove(),e.execCommand("mceCleanup")}}),e.addButton("codeEditTooltip",{icon:"code",title:s.default._("global.word.edit"),onclick:y}),e.addShortcut("meta+alt+c",s.default._("course_editor.wysiwyg.shortcuts.insert_code_block"),y),e.addShortcut("alt+c",s.default._("course_editor.wysiwyg.shortcuts.insert_code_inline"),h)},se=n(1253),ue=function(e){e.on("nodechange",function(){e.dom.select("a").forEach(function(e){Object(se.c)(e)&&!e.classList.contains("custom-link")&&e.classList.add("custom-link")})})},fe=n(1497);function de(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var me=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.overlay=null,this.connectionService=new fe.a,this.connectionService.onConnectionStateChange(this.onConnectionStateChange.bind(this))}var t,n,o;return t=e,(n=[{key:"onConnectionStateChange",value:function(e){switch(e){case fe.a.CONNECTION_SERVICE_STATE.ONLINE:this.editor.fire("online");break;case fe.a.CONNECTION_SERVICE_STATE.OFFLINE:this.editor.fire("offline")}}}])&&de(t.prototype,n),o&&de(t,o),e}();function pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var he=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.elementsMath=n,this.dialog=null,this.$mathPreviewElement=null,this.codeEditorWidget=null}var t,n,o;return t=e,(n=[{key:"open",value:function(e){var t,n,o=this,r=this;try{t=this.elementsMath.getMathElement(this.editor.selection.getNode())}catch(e){}n=this._getMathFromTinymceContent(t),this.win=this.editor.windowManager.open({classes:"claire-editorpanel-math",title:s.default._("course_editor.wysiwyg.latex_editor_window.title"),body:this._getDialogBody(n),onPostRender:function(){r.dialog=this},onSubmit:function(){e(o.getMath())}})}},{key:"_getMathFromTinymceContent",value:function(e){var t={inline:!0,latex:"BODY"===this.editor.selection.getNode().tagName?"":this.editor.selection.getContent()};try{t=this.elementsMath.getMathFromElement(e)}catch(e){}return t}},{key:"getMath",value:function(){var e=L.getItemByName(this.dialog,"inline");return{latex:this.codeEditorWidget.getContent(),inline:e.checked()}}},{key:"_updatePreview",value:function(){this.$mathPreviewElement&&this.elementsMath.updateElement(this.$mathPreviewElement[0],this.getMath())}},{key:"_getDialogBody",value:function(e){var t=this.elementsMath,n=this;return[{name:"inline",label:s.default._("course_editor.wysiwyg.latex_editor_window.inline_mode_option"),type:"checkbox",checked:e.inline,onclick:function(){n._updatePreview()}},{type:"label",text:s.default._("course_editor.wysiwyg.latex_editor_window.text_area_label")},{type:"container",minHeight:150,items:{type:"textbox",multiline:!0,onPostRender:function(){n.codeEditorWidget=F.a.create({initialContent:e.latex,language:"latex",onChange:function(){n._updatePreview()},onEsc:function(){n.win.close()},onSubmit:function(){n.win.submit()},onReady:function(){setTimeout(function(){n.codeEditorWidget&&n.codeEditorWidget.focus()},150)}},this.getEl())}}},{type:"label",text:s.default._("course_editor.wysiwyg.latex_editor_window.preview_label")},{name:"container",maxWidth:450,minWidth:450,classes:"math-preview",minHeight:150,type:"container",onPostRender:function(){t.addMathToElement(this.getEl().firstChild,e).done(function(e){n.$mathPreviewElement=e})}}]}}])&&pe(t.prototype,n),o&&pe(t,o),e}(),ye=n(798),ve=ye.a.elementsMath(ye.a.constants.MATH_RENDERER_MATHJAX),ge=function(e){var t=r()("<div>").html(e);return function(e){var t=e.find(".js-math");ve.unMathElement(t)}(t),t.html()};function be(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Ee=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.elementsMath=ye.a.elementsMath(ye.a.constants.MATH_RENDERER_MATHJAX),this.elementsMathBasic=ye.a.elementsMath(ye.a.constants.MATH_RENDERER_BASIC),this.$domQuery=t.$,this.VK=tinymce.util.VK,this.onDialogSubmit=this.onDialogSubmit.bind(this),this.addMathButton(),this.editor.on("init",function(){n.dialog=new he(n.editor,n.elementsMath),n.initMath(),n.initEvents()})}var t,n,o;return t=e,(n=[{key:"getCorrectMathElementRendererForWysiwyg",value:function(){return/chrome/i.test(navigator.userAgent)?this.elementsMath:this.elementsMathBasic}},{key:"removeMathElement",value:function(e){var t=this.editor.dom.getParents(e,"div")[1]||e;this.editor.dom.remove(t)}},{key:"insertMathElement",value:function(e){var t=this,n=this.getCorrectMathElementRendererForWysiwyg(),o=e.inline?"span":"p";this.editor.undoManager.add(),this.editor.undoManager.transact(function(){if(t.editor.selection.isCollapsed())try{var r=n.getMathElement(t.editor.selection.getNode());t.removeMathElement(r)}catch(e){}var i=" <"+o+' id="__tmp__">&nbsp;</'+o+"> ";t.editor.execCommand("mceInsertContent",!1,i);var a=t.editor.dom.get("__tmp__");t.editor.execCommand("mceAddNonEditable",a),e.inline||(a.innerHTML=""),n.addMathToElement(a,e).done(function(o){var r=o[0];t.$domQuery(r).parent().removeAttr("id"),e.inline?(t.editor.dom.insertAfter(r,a),t.$domQuery(a).remove()):t.$domQuery(r).parent().prev().find(".js-math").each(function(e,t){n.updateElement(t)}),t.addBlockyblock(o.toArray()),t.selectBlockyBlock(r),L.moveCursor(r)})})}},{key:"onDialogSubmit",value:function(e){this.insertMathElement(e)}},{key:"getSanitizedContent",value:function(e){return ge(e)}},{key:"initMath",value:function(){var e=this,t=this.editor.dom.select("math");P.a.isEmpty(t)||this.getCorrectMathElementRendererForWysiwyg().mathElement(t).done(function(t){e.addBlockyblock(t.toArray())})}},{key:"addBlockyblock",value:function(e){this.editor.plugins.blockyBlock&&this.editor.plugins.blockyBlock.addBlockyBlock(e)}},{key:"selectBlockyBlock",value:function(e){this.editor.plugins.blockyBlock&&this.editor.plugins.blockyBlock.selectBlockyBlock(e)}},{key:"initEvents",value:function(){var e=this;this.editor.on("getcontent",function(t){t.sanitized&&(t.content=e.getSanitizedContent(t.content))});var t=null;this.editor.on("setcontent",function(){t||(t=window.setTimeout(function(){e.initMath(),t=null},10))}),this.editor.on("ObjectSelected",function(e){e.preventDefault()}),this.editor.on("keydown",function(t){var n=e.getCorrectMathElementRendererForWysiwyg(),o=t.keyCode===e.VK.ENTER;n.isMathElement(e.editor.selection.getNode())&&(t.preventDefault(),t.stopPropagation(),o&&e.dialog.open(e.onDialogSubmit))})}},{key:"addMathButton",value:function(){var e=this;this.editor.addButton("claireMath",{icon:"superscript",onclick:function(){e.dialog.open(e.onDialogSubmit)},tooltip:"Math",stateSelector:".math-formula"}),this.editor.addShortcut("meta+m",s.default._("course_editor.wysiwyg.shortcuts.insert_math"),function(){e.dialog.open(e.onDialogSubmit)})}}])&&be(t.prototype,n),o&&be(t,o),e}(),_e=function(e){var t=!1;function n(){e.isDirty()&&(L.setAnchorCaret(),e.fire("claireSave")),e.setDirty(!1),e.nodeChanged(!1)}e.addCommand("claireSave",n),e.on("onBeforeSave",function(){t=!0}),e.on("savedSuccess",function(){t=!1,e.setDirty(!1),e.nodeChanged(),L.goToAnchorCaret()}),e.addButton("claireSave",{tooltip:s.default._("course_editor.wysiwyg.word.save"),disabled:!0,icon:"save",cmd:"claireSave",onPostRender:function(){var n=this;e.on("nodeChange dirty",function(){n.disabled(t||!e.isDirty())})}}),e.addShortcut("Meta+s","",n),e.on("init",function(){if(!e.settings.ajaxSave){var t=r()(tinymce.DOM.getParent(e.id,"form"));P.a.isEmpty(t)||t.on("submit",function(){P.a.isNil(e.settings.onFormSubmit)||e.settings.onFormSubmit()})}})},we=function(e){var t=n(12).default;function o(e){var t=document.createElement("div");return t.innerHTML=e,function(e){var t,n,o,r,i;for(r=0,i=(t=e.querySelectorAll("[data-mce-bogus]")).length;r<i;++r)(n=(o=t[r]).parentNode).removeChild(o),""===n.innerHTML.trim()&&n.parentNode.removeChild(n)}(t),function(e){var t,n,o;for(n=0,o=(t=e.querySelectorAll("[data-mce-selected]")).length;n<o;++n)t[n].removeAttribute("data-mce-selected")}(t),function(e){var t,n,o,r,i;for(o=0,r=(t=e.querySelectorAll("li > span:not(.js-math)")).length;o<r;++o)n=t[o],i=document.createTextNode(n.innerText||n.textContent),n.parentNode.insertBefore(i,n.nextSibling),n.parentNode.removeChild(n)}(t),function(e){var t,n,o,r;for(o=0,r=(t=e.querySelectorAll("pre")).length;o<r;++o)(n=t[o]).querySelectorAll("samp").length>1&&(n.innerHTML=n.innerHTML.replace(/[\s]/g,""),n.innerHTML=n.innerHTML.replace(/<\/samp><samp>/g,"\n"))}(t),t.innerHTML}e.on("getcontent",function(e){e.sanitized&&(e.content=o(e.content))}),e.on("nodechange",function(n){var o,r,i;o=n.element,r=o.id,i=o.getAttribute("data-claire-element-id"),!r&&i&&o.removeAttribute("data-claire-element-id"),function(n){var o;n.tagName.match(/^H\d/)&&(o=n.querySelectorAll("img")).length>0&&([].forEach.call(o,function(e){n.removeChild(e)}),e.windowManager.alert(t._("course_editor.warning.image_not_allowed_here")))}(n.element)}),e.on("change",function(){var t=e.getBody().childNodes,n=t[t.length-1];-1===["P","BR"].indexOf(n.tagName)&&e.dom.add(e.getBody(),"br",{"data-mce-bogus":"1"})}),e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()})},Oe=function(e){var t=tinymce.dom.DomQuery,n=null,o=tinymce.util.VK;function r(e){var n=t(e).closest(".js-blockyBlock");return n.length>0?n[0]:null}function i(e){return!!r(e)}function a(){t(".blockyBlock.is-selected",e.getBody()).removeClass("is-selected"),n=null}function c(o){return o=r(o),a(),n=o,e.selection.setCursorLocation(o),e.selection.collapse(),t(o).addClass("is-selected")}function l(e){var o=t(e).parent(),r=o.is("div");t(e=r?o:e).remove(),n=null}return e.on("click",function(){var t,n,o;e.selection.isCollapsed()?t=i(t=e.selection.getNode())?t:null:(n=e.selection.getStart(),o=e.selection.getEnd(),t=r(n)||r(o)),t?c(t):a()}),e.on("keydown",function(t){var s,u,f=t.keyCode,d=r(e.selection.getNode());if(e.selection.isCollapsed()){if(n){if(L.keyPressed(f).is([o.BACKSPACE,o.DELETE]))return l(n),void t.preventDefault();if(L.keyPressed(f).is([o.RIGHT,o.DOWN]))return e.selection.setCursorLocation(n.nextSibling||n.parentNode.nextElementSibling,0),a(),void t.preventDefault();if(d&&L.keyPressed(f).is([o.ENTER]))return void t.preventDefault()}L.keyPressed(f).is([o.BACKSPACE,o.DELETE,o.RIGHT,o.DOWN,o.LEFT,o.UP])&&((s=e.selection.getRng()).startOffset===s.startContainer.length&&L.keyPressed(f).is(o.RIGHT)?u=s.startContainer.nextSibling||s.startContainer.nextElementSibling:0===s.startOffset&&L.keyPressed(f).is([o.LEFT,o.BACKSPACE])&&(u=s.startContainer.previousSibling||s.startContainer.previousElementSibling),u&&i(u)?f===o.BACKSPACE?l(u):c(u):a())}}),e.on("keyup",function(){var t;e.selection.isCollapsed()&&i(t=e.selection.getNode())&&n!==t&&c(t)}),{addBlockyBlock:function(e){t(e).addClass("js-blockyBlock blockyBlock")},selectBlockyBlock:c}};function Ce(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ke=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.getElement().getAttribute("placeholder"),o=t.getContentAreaContainer();tinymce.DOM.setStyle(o,"position","relative"),this.element=tinymce.DOM.add(o,"div",{style:{position:"absolute",top:"5px",left:0,color:"#888",overflow:"hidden","pointer-events":"none","white-space":"pre-wrap",padding:"20px 10px",width:"85%"}},n)}var t,n,o;return t=e,(n=[{key:"hide",value:function(){tinymce.DOM.setStyle(this.element,"display","none")}},{key:"show",value:function(){tinymce.DOM.setStyle(this.element,"display","")}}])&&Ce(t.prototype,n),o&&Ce(t,o),e}();var Se=function(e){e.on("init",function(){var t=new ke(e);function n(){1==!e.settings.readonly&&t.hide(),e.execCommand("mceFocus",!1)}function o(){""===e.getContent()?t.show():t.hide()}tinymce.DOM.bind(t.elelement,"click",n),e.on("focus",n),e.on("blur",o),e.on("change",o),e.on("setContent",o),e.on("keydown",function(){t.hide()}),e.on("keyup",o),o()})};function Ne(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.d(t,"b",function(){return je});var Te=["h1","h2","h3","h4","h5","h6"];var je={statusbar:!1,menubar:!1,plugins:"autoresize link textcolor paste -claireEmoticons -claireImages",toolbar:"styleselect | fontsizeselect | bold italic forecolor | bullist numlist |link | claireEmoticons | claireImage",theme_url:"/js/tinymce/themes/modern/theme.js",skin_url:"/tinymce/skins/oc-lightgray",autoresize_min_height:280,browser_spellcheck:!0,paste_block_drop:!0,paste_postprocess:function(e,t){var n=t.target.settings.block_formats,o=[];n?o=n.split(";").map(function(e){return e.split("=")[1]}).filter(function(e){return Te.includes(e)}):o=Te;var r=Ne(t.node.querySelectorAll("[id],[data-claire-element-id]")),i=Ne(t.node.querySelectorAll("[class]")),a=Ne(t.node.querySelectorAll("[data-math]")),c=Ne(t.node.querySelectorAll(".smilies")),l=Ne(t.node.querySelectorAll("section,div:not([data-claire-semantic])")),s=Ne(t.node.querySelectorAll("iframe")),u=Ne(t.node.querySelectorAll("[style],[data-mce-style]")),f=Ne(t.node.querySelectorAll(Te.join(",")));r.forEach(function(e){e.removeAttribute("data-claire-element-id"),e.removeAttribute("id")}),function(e){e.forEach(function(e){e.removeAttribute("style"),e.removeAttribute("data-mce-style")})}(u),function(e){e.forEach(function(e){var t=e.parentNode,n=e.getAttribute("data-math");try{var o=JSON.parse(n),r=document.createElement("math");r.innerHTML=o.latex,t.insertBefore(r,e),t.removeChild(e)}catch(e){}})}(a),function(e){e.forEach(function(e){var t=e.parentNode,n=e.getAttribute("alt");t.insertBefore(document.createTextNode(n),e),t.removeChild(e)})}(c),function(e){e.forEach(function(e){e.removeAttribute("class")})}(i),function(e){e.forEach(function(e){var t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}})}(l),function(e){e.forEach(function(e){var t=document.createElement("video"),n=e.parentNode;t.src=e.src,n.insertBefore(t,e),n.removeChild(e)})}(s),function(e,t){var n=Te.indexOf(e[0]),o=Te.indexOf(e[e.length-1]);t.forEach(function(t){var r=t.tagName.toLowerCase();if(!e.includes(r)){var i;if(e.length){var a=Te.indexOf(r);i=Te[a<n?n:o]}else i="p";var c=document.createElement(i);c.innerHTML=t.innerHTML,t.parentNode.replaceChild(c,t)}})}(o,f)},image_noresizing:!0,target_list:!1,relative_urls:!1,convert_urls:!0,custom_elements:"pre,code",extended_valid_elements:"*[id,data-claire-element-id,data-claire-semantic],math"};"fr"===s.default.getActiveLang()&&(je.language_url="/js/vendors/tinymce/langs/fr_FR.js");var xe,Ae={};Ae.addWysiwygToElement=function(e,t){var n=r.a.Deferred(),o=r()(e),i=o.uniqueId().attr("id");return t=r.a.extend({},je,t||{}),function(e){var t;e.css({width:e.width(),position:"absolute",left:-999999999}),t=r()('<div><i style="opacity:0.4;" class="icon-spinner icon-spin"></i>&nbsp;'.concat(s.default._("global.word.loading"),"</div>")).insertAfter(e),e.data("$loader",t)}(o),Ae.load().done(function(){t.selector="#".concat(i),t.setup=function(e){e.on("init",function(){!function(e){e.data("$loader").remove(),e.css({width:"",position:"relative",left:0})}(o),o.data("tinymceInstance",e),n.resolve(e)})};var e=window.setInterval(function(){r()(t.selector).is(":visible")&&(window.clearInterval(e),tinymce.init(t))},100)}),n},Ae.isElementInited=function(e){var t;try{t=this.getInstance(e)}catch(e){return!1}return!!t},Ae.getInstance=function(e){var t=r()(e).data("tinymceInstance");return t||l.a.throwException(a.a.NOT_A_TINYMCE_ELEMENT_EXCEPTION),t},Ae.destroy=function(e){var t=r()(e).data("tinymceInstance");t||l.a.throwException(a.a.NOT_A_TINYMCE_ELEMENT_EXCEPTION),tinymce.EditorManager.execCommand("mceRemoveEditor",!0,t.id)},Ae.setContent=function(e,t,n){Ae.getInstance(e).setContent(t,n||{})},Ae.getContent=function(e,t){return Ae.getInstance(e).getContent(t||{})},Ae.execCommand=function(e,t,n){Ae.getInstance(e).execCommand(t,n,null,{skip_focus:!0})},Ae.getToolbar=function(e){return r()(".mce-toolbar-grp",e).first()},Ae.load=function(){return xe||(xe=r.a.ajax({dataType:"script",cache:!0,url:u.a.getVersionned("/js/tinymce.js")}).done(function(){!function(e){e.PluginManager.add("claireEmoticons",p),e.PluginManager.add("claireImages",g),e.PluginManager.add("claireFormats",_),e.PluginManager.add("claireVideo",S),e.PluginManager.add("claireCode",le),e.PluginManager.add("customContentLink",ue),e.PluginManager.add("claireMath",Ee),e.PluginManager.add("claireOffline",me),e.PluginManager.add("blockyBlock",Oe),e.PluginManager.add("claireSave",_e),e.PluginManager.add("claireSanitize",we),e.PluginManager.add("placeholder",Se)}(tinymce)})),xe};t.a=Ae},268:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return c});var o=String.fromCharCode(160),r=new RegExp("^(".concat(o,"+)"),"g"),i=new RegExp("(".concat(o,"+)$"),"g");function a(e){return e&&"code"===e.tagName.toLowerCase()}function c(e){return e.nodeValue.trim()}t.b={isCodeNode:a,trimLeftNode:function(e){return e.nodeValue.replace(r,"")},trimNode:c,trimRightNode:function(e){return e.nodeValue.replace(i,"")},selectCodeNode:function(e,t){var n=e.dom.getParent(t,"pre");if(n){e.dom.addClass(n,"selected-code");var o=e.dom.getNext(n,function(){return!0});o&&e.selection.setCursorLocation(o,0)}},unselectCodeNode:function(e,t){t||(t=e.dom.select(".selected-code")),tinymce.isArray(t)||(t=[t]),tinymce.each(t,function(t){return e.dom.removeClass(t,"selected-code")})},isInlinedCodeNode:function(e,t){return a(t)&&!e.dom.getParent(t,"pre")}}},287:function(e){e.exports=JSON.parse('{"ace":{"iframe":{"url":"/js/oc/packages/ace-iframe.js"}},"tinymce":{"url":{"theme":{"main":"/css/tinymce/themes/OC-1445012260108/main"}}}}')},52:function(e,t){e.exports={EVENT_EDITOR_ON_READY:"editor.ready",EVENT_EDITOR_INIT:"editor.init",EVENT_EDITOR_ESC:"editor.esc",EVENT_EDITOR_SUBMITTED:"editor.submit",EVENT_EDITOR_CONTENT_CHANGED:"editor.content.changed",EVENT_EDITOR_SET_LANGUAGE:"editor.set.language",EVENT_EDITOR_SET_INLINE_MODE:"editor.set.inlineMode",EVENT_EDITOR_FOCUS:"editor.focus"}},558:function(e,t,n){"use strict";var o=n(9),r=n.n(o);var i=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.partId=null,this.partTitle=null,this.partSlug=null,this.courseId=null,this.courseTitle=null,this.courseSlug=null,this.courseLanguage=null,this.isIntroduction=null},a=n(522),c=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,c.a);var t=u(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return n}();function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"get",value:function(){if(!function(){if("undefined"!=typeof App&&r.a.has(App,"data.currentCourse")){var e=App.data.currentCourse;if(void 0!==e.partId||void 0!==e.partTitle||void 0!==e.partSlug||void 0!==e.courseId||void 0!==e.courseTitle||void 0!==e.courseSlug||void 0!==e.courseLanguage||void 0!==e.isIntroduction)return!0}return!1}())throw new d;var e=new i;return r.a.assign(e,window.App.data.currentCourse),e}}],(n=null)&&m(t.prototype,n),o&&m(t,o),e}();t.a=p}}]);
//# sourceMappingURL=default~business~commonOld~courseEdit~courseView~dashboard~funnel~jobGuarantee~mcqEdit~mentorshipDas~86348079.85e2518f04376198d10f.js.map
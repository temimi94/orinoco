(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1076:function(e,t,r){"use strict";var n=r(499);t.a={omit:n.a}},1256:function(e,t,r){"use strict";var n=r(637),a=r(4),o=r.n(a),l=r(2),i=r.n(l),c=r(6),s=r.n(c),u=r(12),p=r(3),f=r(3214),d=r(1748),m=r(411),y=r.n(m),b=r(3230);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=l.createElement("path",{d:"M23.2 21.8v6.7h-6.7v-6.7h-4.9l8.3-8.3 8.3 8.3m4-5C31 11 26 6.8 19.9 6.8c-4.8 0-9 2.7-11 6.7C3.8 14 0 18.3 0 23.4c0 5.6 4.4 10 10 10h21.6c4.6 0 8.3-3.7 8.3-8.3 0-4.5-3.4-8-7.7-8.3z"});var v=function(e){return l.createElement("svg",h({viewBox:"0 0 40 40",width:"1em",height:"1em"},e),g)};function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var w=function(e){return i.a.createElement(b.a,O({component:v,"data-name":"CloudUpload"},e))},j=r(1263),S=r(1076),_=r(583),E={iconType:s.a.string.isRequired,className:s.a.string,rounded:s.a.bool};function k(e){var t=e.iconType,r=e.className,n=e.rounded,a=y()("icon-".concat(t),{"icon--rounded":n},r);return i.a.createElement("i",{"aria-hidden":"true",className:a})}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}k.propTypes=E,k.defaultProps={className:"",rounded:!1};var P={type:s.a.string.isRequired},F=function(e){var t=e.type,r=R(e,["type"]);return i.a.createElement("button",U({className:"uploadedFile__button"},r,{type:"button"}),i.a.createElement(k,{className:"uploadedFile__buttonIcon",iconType:t}))};F.propTypes=P;var A=F,x={filename:s.a.string.isRequired,error:s.a.string,loaded:s.a.number,totalSize:s.a.number,url:s.a.string,onAbort:s.a.func,onRetry:s.a.func},D=function(e){var t=e.filename,r=e.url,n=e.totalSize,a=e.loaded,o=e.error,l=e.onAbort,c=e.onRetry,s=100/(n/a),p=a>0&&n,f=n>0,d=!!o&&c,m=!!l,y=d||m,b=["uploadedFile"];return o&&b.push("uploadedFile--error"),y||b.push("uploadedFile--noAction"),i.a.createElement("div",{className:b.join(" ")},i.a.createElement("div",{className:"uploadedFile__actions"},d&&i.a.createElement(A,{"aria-label":Object(u.translate)("global.word.retry"),type:"refresh",onClick:c}),m&&i.a.createElement(A,{"aria-label":Object(u.translate)("global.word.cancel"),type:"close",onClick:l})),i.a.createElement("div",{className:"uploadedFile__filename"},r?i.a.createElement("a",{href:r},t):t),f&&i.a.createElement("div",{className:"uploadedFile__size"},Object(_.a)(a)," ","of"," ",Object(_.a)(n)),p&&i.a.createElement("div",{className:"uploadedFile__progress"},i.a.createElement("div",{className:"uploadedFile__progressBar",style:{width:"".concat(s,"%")}})),i.a.createElement("div",{className:"uploadedFile__error"},o))};D.propTypes=x,D.defaultProps={error:null,loaded:null,totalSize:null,url:null,onAbort:null,onRetry:null};var N=D,T=r(1533);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=W(e);if(t){var a=W(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;return L(e)}(this,r)}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(o,l["Component"]);var t,r,n,a=q(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),G(L(t=a.call(this,e)),"handleDragOver",function(){t.setState(function(){return{isDraggedOver:!0}})}),G(L(t),"handleDragLeave",function(){t.setState(function(){return{isDraggedOver:!1}})}),G(L(t),"handleDrop",function(e,r){(t.setState({isDraggedOver:!1}),e&&e.length>=1)&&(0,t.props.onAcceptedFiles)(e);r&&r.length>=1&&t.showRejectedFileMessage(r)}),G(L(t),"handleChooseFile",function(){t.dropzone.open()}),t.state={isDraggedOver:!1,rejectedFileMessages:""},t}return t=o,(r=[{key:"showRejectedFileMessage",value:function(e){var t=this.props,r=t.accept,n=t.maxSize,a=t.onRejectedFiles,o=Object(T.a)(e[0],{accept:r,maxSize:n}),l=[];o.badType&&l.push("".concat(Object(u.translate)("upload.error.wrong_file_type")," (").concat(Object(u.translate)("upload.message.file_type_limitation",{filetype:r}),")")),o.tooBig&&l.push("".concat(Object(u.translate)("upload.error.file_too_big")," (").concat(Object(u.translate)("upload.message.file_size_limitation",{size:Object(_.a)(n)}),")")),this.setState(function(){return{rejectedFileMessages:l}},function(){a(e)})}},{key:"dismissRejectedFileMessage",value:function(){this.setState(function(){return{rejectedFileMessages:""}})}},{key:"renderError",value:function(e){return e?i.a.createElement(u.Translate,{component:"div",className:"uploader__error",content:"upload.error.generic_error"}):null}},{key:"renderLimitations",value:function(){var e=this.props,t=e.accept,r=e.maxSize,n=[];return t&&n.push(i.a.createElement(u.Translate,{key:"accept",className:"uploader__limitationsItem",component:"li",content:"upload.message.file_type_limitation",with:{filetype:t}})),r&&r!==1/0&&n.push(i.a.createElement(u.Translate,{key:"maxSize",className:"uploader__limitationsItem",component:"li",content:"upload.message.file_size_limitation",with:{size:Object(_.a)(r)}})),0===n.length?null:i.a.createElement("div",{className:"uploader__limitationsWrapper"},i.a.createElement("ul",{className:"uploader__limitations"},n))}},{key:"renderErrorMessagesDialog",value:function(){var e=this,t=this.state.rejectedFileMessages;return i.a.createElement(j.a,{isOpen:!!t,onAccept:function(){e.dismissRejectedFileMessage()}},i.a.createElement("div",null,i.a.createElement(u.Translate,{component:"p",content:"upload.error.not_accepted_file"}),i.a.createElement("ul",null,t.map(function(e,t){return i.a.createElement("li",{key:t},e)}))))}},{key:"render",value:function(){var e=this,t=this.props,r=t.files,n=t.progress,a=t.error,o=t.onRetry,l=t.onCancel,c=t.disabled,s=t.multiple,p=I(t,["files","progress","error","onRetry","onCancel","disabled","multiple"]),f=this.state.rejectedFileMessages,m=r.length>0,b=n.loaded>0&&!a,h=b||c,g=!!f,v=y()("uploader",{"uploader--hasFiles":m},{"uploader--isUploading":b});return i.a.createElement(d.a,z({ref:function(t){e.dropzone=t}},S.a.omit(p,["onAcceptedFiles","onRejectedFiles"]),{className:v,activeClassName:"uploader--active",acceptClassName:"uploader--accept",rejectClassName:"uploader--reject",onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,disableClick:!0,disabled:h,multiple:s}),g&&this.renderErrorMessagesDialog(),i.a.createElement("div",{className:"uploader__buttonWrapper"},i.a.createElement("button",{type:"button",className:"uploader__button",disabled:h,onClick:this.handleChooseFile},i.a.createElement(w,{size:"32px"}),i.a.createElement("br",null),i.a.createElement(u.Translate,{content:"upload.action.choose_file"}))),this.renderLimitations(),m&&i.a.createElement("div",{className:"uploader__files"},i.a.createElement(N,{key:r[0].name,filename:r[0].name,error:a?Object(u.translate)("upload.error.generic_error"):null,loaded:n.loaded,totalSize:n.total,onRetry:o,onAbort:l})))}}])&&B(t.prototype,r),n&&B(t,n),o}();G(X,"propTypes",{accept:s.a.string,disabled:s.a.bool,error:s.a.instanceOf(Error),files:s.a.array,maxSize:s.a.number,multiple:s.a.bool,progress:s.a.shape({loaded:s.a.number,total:s.a.number}),onAcceptedFiles:s.a.func,onCancel:s.a.func,onRejectedFiles:s.a.func,onRetry:s.a.func}),G(X,"defaultProps",{accept:null,error:null,disabled:!1,files:[],maxSize:1/0,multiple:!1,progress:{},onAcceptedFiles:function(){},onRejectedFiles:function(){},onRetry:null,onCancel:null});var Y=X;function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t,r,n,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var a=te(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;return ee(e)}(this,r)}}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(s,l["Component"]);var t,r,a,c=Z(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),re(ee(t=c.call(this,e)),"handleToggleUploaderDisplay",function(){var e=t.props.url;t.setState(function(){return{progress:{},error:null,file:null}}),e&&t.toggleUploaderDisplay()}),re(ee(t),"handleUploadProgress",function(e){var r=e.loaded,n=e.percent,a=e.total;if(n){var o={loaded:r,percent:n,total:a};t.setState(function(){return{progress:o,error:null}})}}),re(ee(t),"handleUploadAbort",function(){t.req&&t.req.abort(),t.setState(function(){return{progress:{},error:null,file:null}});var e=t.props.url;t.toggleUploaderDisplay(e)}),re(ee(t),"handleRetry",function(){var e=t.state.file;t.uploadFile(e)}),re(ee(t),"handleAcceptedFiles",function(e){var r=J(e,1)[0];r&&(t.uploadFile(r),t.setState(function(){return{isDownloading:!0}}))}),t.state={progress:{},error:null,file:null,isShowingUploader:!e.url,isDownloading:!1},t.req=null,t}return t=s,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.url;e.url!==t&&this.toggleUploaderDisplay(e.url)}},{key:"toggleUploaderDisplay",value:function(){this.setState(function(e){return{isShowingUploader:!e.isShowingUploader}})}},{key:"uploadFile",value:function(){var e,t=(e=o.a.mark(function e(t){var r,a,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(function(){return{progress:{},error:null,file:t}}),r=this.props,a=r.endPoint,l=r.onUploaded,this.req=n.a.upload(a,t,{onProgress:this.handleUploadProgress}),e.prev=3,e.next=6,this.req;case 6:l(),this.setState(function(){return{isDownloading:!1}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState(function(){return{error:e.t0}});case 13:case"end":return e.stop()}},e,this,[[3,10]])}),function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function l(e){H(o,n,a,l,i,"next",e)}function i(e){H(o,n,a,l,i,"throw",e)}l(void 0)})});return function(e){return t.apply(this,arguments)}}()},{key:"renderActions",value:function(){var e=this.state.isDownloading,t=!(!this.props.url&&!e);return i.a.createElement("div",{className:"uploaderForm__actions"},t&&i.a.createElement(f.a,{disabled:e,ocStyle:"secondary",onClick:this.handleToggleUploaderDisplay},i.a.createElement(u.Translate,{content:"global.word.back"})))}},{key:"renderUpload",value:function(){var e=this.state,t=e.progress,r=e.error,n=e.file,a=this.props,o=a.accept,l=a.maxSize,c=a.onRejectedFiles,s=n?[n]:[];return i.a.createElement("div",null,i.a.createElement(Y,{accept:o,maxSize:l,onAcceptedFiles:this.handleAcceptedFiles,onRejectedFiles:c,onRetry:this.handleRetry,onCancel:this.handleUploadAbort,files:s,progress:t,error:r}),this.renderActions())}},{key:"renderUploadedUrl",value:function(){var e=this.props.url,t=n.a.getFilenameFromUrl(e),r=p.a.window.decodeURIComponent(t);return i.a.createElement("div",null,i.a.createElement("div",{className:"uploaderForm__link"},i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},r)),i.a.createElement("div",{className:"uploaderForm__actions"},i.a.createElement(f.a,{ocStyle:"secondary",onClick:this.handleToggleUploaderDisplay},i.a.createElement(u.Translate,{content:"global.word.change"}))))}},{key:"render",value:function(){var e=this.props.className,t=this.state.isShowingUploader;return i.a.createElement("div",{className:"uploaderForm ".concat(e)},t?this.renderUpload():this.renderUploadedUrl())}}])&&K(t.prototype,r),a&&K(t,a),s}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t,r,n,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=fe(e);if(t){var a=fe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;return pe(e)}(this,r)}}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}re(ne,"propTypes",{endPoint:s.a.string.isRequired,accept:s.a.string,className:s.a.string,maxSize:s.a.number,url:s.a.string,onRejectedFiles:s.a.func,onUploaded:s.a.func}),re(ne,"defaultProps",{accept:null,className:"",maxSize:1/0,url:null,onRejectedFiles:function(){},onUploaded:function(){}});var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(s,l["Component"]);var t,r,a,c=ue(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),de(pe(t=c.call(this,e)),"handleToggleUploaderDisplay",function(){t.setState(function(){return{file:null}}),t.props.fileUrl&&t.toggleUploaderDisplay()}),de(pe(t),"handleUploadAbort",function(){var e=t.state.abortUpload;e&&e(),t.setState(function(){return{abortUpload:null,file:null}}),t.toggleUploaderDisplay(!0)}),de(pe(t),"handleRetry",function(){var e=t.state.file;t.uploadFile(e)}),de(pe(t),"handleAcceptedFiles",function(e){var r=le(e,1)[0];r&&(t.setState(function(){return{file:r}}),t.uploadFile(r))}),t.state={abortUpload:null,file:null,isShowingUploader:!e.fileUrl},t.req=null,t}return t=s,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.fileUrl;e.fileUrl!==t&&this.toggleUploaderDisplay(!e.fileUrl)}},{key:"toggleUploaderDisplay",value:function(e){this.setState(function(t){return{isShowingUploader:void 0===e?!t.isShowingUploader:!!e}})}},{key:"uploadFile",value:function(){var e,t=(e=o.a.mark(function e(t){var r,n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.upload,e.next=3,r(t);case 3:n=e.sent,a=n.request,this.setState(function(){return{abortUpload:a.abort.bind(a)}});case 6:case"end":return e.stop()}},e,this)}),function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function l(e){oe(o,n,a,l,i,"next",e)}function i(e){oe(o,n,a,l,i,"throw",e)}l(void 0)})});return function(e){return t.apply(this,arguments)}}()},{key:"isDownloading",value:function(){var e=this.props.progress,t=void 0===e?{}:e;return t.loaded<t.total}},{key:"renderActions",value:function(){var e=this.props.fileUrl,t=this.isDownloading(),r=!(!e&&!t);return i.a.createElement("div",{className:"uploaderForm__actions"},r&&i.a.createElement(f.a,{disabled:t,ocStyle:"secondary",onClick:this.handleToggleUploaderDisplay},i.a.createElement(u.Translate,{content:"global.word.back"})))}},{key:"renderUpload",value:function(){var e=this.state.file,t=this.props,r=t.accept,n=t.error,a=t.maxSize,o=t.progress,l=e?[e]:[];return i.a.createElement("div",null,i.a.createElement(Y,{accept:r,maxSize:a,onAcceptedFiles:this.handleAcceptedFiles,onRetry:this.handleRetry,onCancel:this.handleUploadAbort,files:l,progress:o,error:n}),this.renderActions())}},{key:"renderUploadedUrl",value:function(){var e=this.props.fileUrl,t=n.a.getFilenameFromUrl(e),r=p.a.window.decodeURIComponent(t);return i.a.createElement("div",null,i.a.createElement("div",{className:"uploaderForm__link"},i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},r)),i.a.createElement("div",{className:"uploaderForm__actions"},i.a.createElement(f.a,{ocStyle:"secondary",onClick:this.handleToggleUploaderDisplay},i.a.createElement(u.Translate,{content:"global.word.change"}))))}},{key:"render",value:function(){var e=this.props.className,t=this.state.isShowingUploader;return i.a.createElement("div",{className:"uploaderForm ".concat(e)},t?this.renderUpload():this.renderUploadedUrl())}}])&&ce(t.prototype,r),a&&ce(t,a),s}();de(me,"propTypes",{upload:s.a.func.isRequired,accept:s.a.string,className:s.a.string,error:s.a.instanceOf(Error),fileUrl:s.a.string,maxSize:s.a.number,progress:s.a.shape({loaded:s.a.number,total:s.a.number})}),de(me,"defaultProps",{accept:null,className:"",error:null,fileUrl:null,maxSize:1/0,progress:{loaded:0,total:0}});var ye=r(3209),be=r(770),he=r(3215),ge=r(1494),ve=r(1535),Oe=r.n(ve),we=r(470),je=r.n(we),Se=r(3270),_e=r(3212),Ee=r(477);function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Re={ariaLabel:s.a.string.isRequired,accept:s.a.string,defautImageUrl:s.a.string,maxSize:s.a.number,maxDimensions:s.a.shape({width:s.a.number,height:s.a.number}),inputProps:s.a.object,onAccept:s.a.func,onCancel:s.a.func,onReject:s.a.func},Pe=Object(ye.a)(function(e){var t,r,n,a=e.breakpoints,o=e.palette,l=e.spacing;return{uploadLink:{color:[o.text.primary,"!important"],textDecoration:"underline",cursor:"pointer"},downloadLink:(t={color:[o.text.primary,"!important"],textDecoration:"underline",display:"inline-block",maxWidth:"85%",overflow:"hidden",textOverflow:"ellipsis",marginRight:l(2)},r=a.up("sm"),n={marginRight:l(4)},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t),imageIcon:{verticalAlign:"bottom",marginRight:l(2)},cancelButton:{float:"right",color:o.text.primary},preview:{marginTop:l(2),width:120,height:120,lineHeight:"120px",borderRadius:4,textAlign:"center",borderWidth:1,borderColor:o.line,backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:function(e){var t=e.imageUrl;return e.isPreviewActive?"url(".concat(t,")"):"none"},borderStyle:function(e){return e.isPreviewActive?"solid":"dashed"},backgroundColor:function(e){return e.isPreviewActive?o.background.primary:o.background.alternative}}}},{classNamePrefix:"ImageDropzone"});function Fe(e){var t=e.accept,r=e.defautImageUrl,a=e.maxSize,o=e.maxDimensions,c=e.inputProps,s=e.onAccept,p=e.onCancel,f=e.onReject,d=e.ariaLabel,m=Object(l.useRef)(null),y=ke(Object(l.useState)(r),2),b=y[0],h=y[1],g=ke(Object(l.useState)(n.a.getFilenameFromUrl(b)),2),v=g[0],O=g[1],w=ke(Object(l.useState)(),2),j=w[0],S=w[1],_=Boolean(o.width)&&Boolean(o.height),E="".concat(a).concat(Object(u.translate)("admin.upload.units.kb")),k=_?"".concat(o.width," x ").concat(o.height," px"):"",U={BAD_TYPE:Object(u.translate)("admin.upload.errors.bad_file_type",{types:t.split(",").join(" ".concat(Object(u.translate)("global.word.or_separator")," "))}),TOO_BIG:Object(u.translate)("admin.upload.errors.too_big",{size:E}),DIMENSIONS_TOO_BIG:Object(u.translate)("admin.upload.errors.dimensions_too_big",{dimensions:k})},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U.BAD_TYPE,r=ke(e,1)[0];h(r.preview),O(r.name),S(t),f(r)},P=function(e){h(e.preview),O(e.name),s(e)},F=Boolean(j),A=Boolean(b)&&!F,x=Pe({isPreviewActive:A,imageUrl:b}),D=[];return _&&D.push(k),a&&D.push(E),i.a.createElement("div",null,!b&&i.a.createElement(Se.a,{accept:t,ref:m,onAcceptFiles:function(e){var r=ke(e,1)[0],l=n.a.validate(r,{accept:t,maxSize:1e3*a}),i=l.tooBig;if(l.badType)R(e,U.BAD_TYPE);else if(i)R(e,U.TOO_BIG);else if(_){var c=new Image;c.onload=function(){var t=c.naturalWidth,n=c.naturalHeight;t<=o.width&&n<=o.height?P(r):R(e,U.DIMENSIONS_TOO_BIG)},c.src=r.preview}else P(r)},onRejectFiles:R,inputProps:c,label:i.a.createElement(i.a.Fragment,null,Object(u.translate)("admin.upload.drag_and_drop_or")," ",i.a.createElement(be.a,{onClick:function(e){e.preventDefault(),m.current.open()},href:"#",role:"button","aria-label":d,className:x.uploadLink},Object(u.translate)("admin.upload.click_here")),"."),caption:i.a.createElement(i.a.Fragment,null,Object(u.translate)("admin.upload.accepted_files",{files:t}),i.a.createElement("br",null),Object(u.translate)("admin.upload.max_size",{size:D.join(" / ")}))}),v&&i.a.createElement(i.a.Fragment,null,!F&&i.a.createElement(Oe.a,{color:"primary",className:x.imageIcon}),i.a.createElement(he.a,{edge:"end",size:"small",className:x.cancelButton,onClick:function(){h(null),O(null),S(null),p()}},i.a.createElement(je.a,{color:F?"error":"inherit"})),i.a.createElement(be.a,{className:x.downloadLink,href:b,target:"_blank"},v),F&&i.a.createElement(ge.a,{error:!0},j)),i.a.createElement("div",{className:x.preview},!A&&i.a.createElement(_e.a,{variant:Ee.a.VARIANT.SUBTITLE2,component:"span",display:"inline"},Object(u.translate)("admin.upload.preview"))))}Fe.propTypes=Re,Fe.defaultProps={accept:".jpeg, .jpg, .png",defautImageUrl:null,maxSize:0,maxDimensions:{},inputProps:{},onAccept:function(){},onCancel:function(){},onReject:function(){}};var Ae=Fe;r.d(t,"b",function(){return ne}),r.d(t,"c",function(){return me}),r.d(t,"a",function(){return Ae});n.a},1764:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(6),l=r.n(o),i=r(423),c=r(429),s=r.n(c);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={classes:l.a.objectOf(l.a.string),count:l.a.number,width:l.a.oneOfType([l.a.number,l.a.string]),height:l.a.oneOfType([l.a.number,l.a.string]),borderRadius:l.a.oneOf(["circle","small","none"]),variant:l.a.oneOf(["image","badge","text"]),style:l.a.objectOf(l.a.oneOfType([l.a.string,l.a.number])),withAnimation:l.a.bool},m=function(e){var t=e.classes,r=e.height,n=e.width,o=e.borderRadius,l=e.variant,i=e.count,c=e.style,s=e.withAnimation,u=r||n,f={circle:"isCircle",small:"hasSmallBorderRadius",none:""}[o]||"",d={image:"isImage",badge:"isBadge",text:"isText"}[l];return a.a.createElement(a.a.Fragment,null,Array(Math.max(0,i)).fill(null).map(function(e,r){return a.a.createElement("div",{key:r,className:"\n            ".concat(t.root," \n            ").concat(t[f]||""," \n            ").concat(t[d]," \n            ").concat(s?t.waveAnimation:"","\n          "),style:p({width:n,height:u},c)})}))};m.propTypes=d,m.defaultProps={classes:{},count:1,height:null,borderRadius:"none",width:null,variant:"text",style:{},withAnimation:!1};t.a=Object(i.a)(function(e){return{"@global":{"@keyframes waveSkeleton":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}}},root:{display:"inline-block",backgroundColor:e.palette.skeleton.text},isCircle:{borderRadius:"50%"},hasSmallBorderRadius:{borderRadius:"10px"},isText:{backgroundColor:e.palette.skeleton.text},isImage:{backgroundColor:e.palette.skeleton.image},isBadge:{backgroundColor:e.palette.skeleton.badge},waveAnimation:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{animation:"waveSkeleton 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(s()(e.palette.background.primary).setAlpha(.6),", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}}})(m)}}]);
//# sourceMappingURL=default~admin~business~courseView~dashboard~funnel~jobGuarantee~mentorshipDashboard~mentorshipStuden~57508d96.4b76305f46cedd32e3e5.js.map
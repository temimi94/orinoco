(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{1170:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(2),o=n.n(r),a=n(6),i=n.n(a),c={SUCCESS:"validated",WARNING:"refused",DANGER:"danger",DRAFT:"draft",PRIMARY:"primary"},u={value:i.a.string.isRequired,status:i.a.string},s=function(t){var e=t.value,n=t.status;return o.a.createElement("div",{className:"sideRibbon ".concat(n?"sideRibbon--".concat(n):"")},o.a.createElement("div",{className:"sideRibbon__content"},e),o.a.createElement("div",{className:"sideRibbon__edgeBottomLeft"}),o.a.createElement("div",{className:"sideRibbon__edgeBottomRight"}),o.a.createElement("div",{className:"sideRibbon__backLeft"}),o.a.createElement("div",{className:"sideRibbon__backRight"}))};s.defaultProps={status:null},s.propTypes=u,e.b=s},402:function(t,e,n){"use strict";n.r(e);var r=n(633),o=n(4),a=n.n(o),i=n(2),c=n.n(i),u=n(705),s=n(3),l=n(444),f=n(12),p=n(3341),d=n(6),b=n.n(d),v=n(3212),m=n(1170),y=n(1256);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(){return(j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function g(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){g(a,r,o,i,c,"next",t)}function c(t){g(a,r,o,i,c,"throw",t)}i(void 0)})}}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;return E(t)}(this,n)}}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U={accept:".zip",maxSize:209715200},x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(u,i["Component"]);var e,n,r,o=R(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),S(E(e=o.call(this,t)),"handleUploaded",w(a.a.mark(function t(){var n,r,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.getStudentProject,t.next=3,n();case 3:r=t.sent,o=r.fileUrl,e.setState(function(){return{fileUrl:o}});case 6:case"end":return t.stop()}},t)}))),e.state={fileUrl:t.initialFileUrl},e}return e=u,(n=[{key:"render",value:function(){var t=this,e=this.props,n=e.endPoint,r=e.title,o=e.content,a=this.state.fileUrl;return c.a.createElement("div",{className:"projectUpload"},r&&c.a.createElement("div",{className:"projectUpload__sideRibbonWrapper"},c.a.createElement(m.b,{value:r})),o&&c.a.createElement(v.a,{className:"projectUpload__content"},o),c.a.createElement(y.b,j({},U,{className:"projectUpload__uploader",url:a,endPoint:n,onUploaded:function(){return t.handleUploaded()}})))}}])&&_(e.prototype,n),r&&_(e,r),u}();S(x,"propTypes",{endPoint:b.a.string.isRequired,getStudentProject:b.a.func,title:b.a.string,content:b.a.string,initialFileUrl:b.a.string,showAlert:b.a.func}),S(x,"defaultProps",{initialFileUrl:null,title:null,content:null,getStudentProject:function(){},showAlert:function(){}});var k,N=x;function A(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function F(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){A(a,r,o,i,c,"next",t)}function c(t){A(a,r,o,i,c,"throw",t)}i(void 0)})}}function T(t,e,n){return C.apply(this,arguments)}function C(){return(C=F(a.a.mark(function t(e,n,r){var o,i,u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={title:Object(f.translate)("project.submit_title"),content:Object(f.translate)("project.submit_content")},r&&(o.title=Object(f.translate)("project.mentor_manager.submit_title"),o.content=Object(f.translate)("project.mentor_manager.submit_content")),t.prev=2,t.next=5,k();case 5:if(i=t.sent,u=i.fileUrl,!i.isStudentProjectValidated||r){t.next=10;break}return t.abrupt("return");case 10:l.a.renderElementWrappedWithProvider(c.a.createElement(p.a,null,c.a.createElement(N,{initialFileUrl:u,getStudentProject:k,endPoint:"/api/project-sessions/".concat(n,"/file"),title:o.title,content:o.content})),e),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),s.a.window.console.error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,13]])}))).apply(this,arguments)}function D(){return(D=F(a.a.mark(function t(){var e,n,r,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.a.document.getElementById("projects-legacy-deliverable")){t.next=3;break}return t.abrupt("return");case 3:if(n="true"===e.getAttribute("data-project-isMentorManager"),r="true"===e.getAttribute("data-project-isMentor"),o=+e.getAttribute("data-project-sessionId"),k=function(){return u.a.projectSessions.getFile(o)},r){t.next=10;break}return t.next=10,T(e,o,n);case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}var I=function(){return D.apply(this,arguments)};e.default=[r.c,I,r.e]},705:function(t,e,n){"use strict";var r=n(794);e.a=Object(r.a)()}}]);
//# sourceMappingURL=projects.df757b4a2ae3a1b29429.js.map